<link rel="import" href="drink-selector.html">
<link rel="import" href="recipes-service.html">

<polymer-element name="drinks-list">
  <template>
    <recipes-service recipes="{{recipes}}"></recipes-service>
    <div id='drinks_container'>
      <template repeat="{{recipe in recipes}}">
        <drink-selector
        id="drink"
        drink="{{recipe.name}}"
        image="{{recipe.image}}"
        details="{{recipe.ingredients}}"
        gray_out="{{grayOut}}"
        hide_if_not_selected="{{drinkSelected}}"
        show_details=false
        user_name="{{userName}}"
        collapsing_ready=false
        submitted=true
        search="{{search}}"
        on-tap="{{drinkTapped}}">
        </drink-selector>
      </template>
    </div>
  </template>
  <script>
    Polymer({
      publish: {
        grayOut: {
          value: false,
          reflect: true
        },
        drinkSelected: {
          value: "false",
          reflect: true
        },
        userName: {
          // Note, can't yet set globally. Not sure why; it should work. Maybe the input element isn't setting the internal value.
          value: "Your Name",
          reflect: true
        },
        search: {
          value: "",
          reflect: true
        }
      }
    //drinkTapped: function() {
    //  this.$.drinks_container.querySelector('#drink').setAttribute("gray_out", "true");
    //},
    });
  </script>
</polymer-element>
